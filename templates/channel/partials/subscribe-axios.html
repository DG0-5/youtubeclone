<!-- Subscribe Function--> 
<script>
    let subcounter = document.getElementById('count');
    sub_button = document.getElementById("sub_btn")
    subscriber_added = []

    function addSub(){
        axios
            .get('{% url "add_sub" channel.user.id %}')
            .then(response => {
                this.response = response.data;
                sub_button.innerHTML = this.response;
                loadSub()
                sub_button.classList.toggle("unsubscribe-btn")
            });
    }

    function loadSub(){
        axios
            .get('{% url "load_sub" channel.user.pk %}')
            .then(response => {
                this.response = response.data;
                subscriber_added = this.response;
                
                subcounter.innerHTML = subscriber_added.length
            })
    }
    window.onload = loadSub();

</script>
